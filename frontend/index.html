<!DOCTYPE html>
<html>

<head>
    <title>Hostel Issue Portal</title>
</head>

<body>
    <h2>Submit Hostel Issue</h2>

    <input id="name" placeholder="Student Name"><br><br>
    <input id="room" placeholder="Room Number"><br><br>
    <select id="category">
        <option>Electrical</option>
        <option>Plumbing</option>
        <option>Cleaning</option>
        <option>Internet</option>
    </select><br><br>

    <textarea id="desc" placeholder="Describe the issue"></textarea><br><br>

    <button onclick="submitIssue()">Submit</button>

    <p id="result"></p>

    <script>
        function submitIssue() {
            fetch("http://127.0.0.1:8000/submit", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    student_name: name.value,
                    room_number: room.value,
                    category: category.value,
                    description: desc.value
                })
            })
                .then(res => res.json())
                .then(data => {
                    result.innerText = "Issue ID: " + data.issue_id;
                });
        }
    </script>
</body>

</html>